<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>教务管理系统</title>

    <!-- Bootstrap -->
    <link href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!-- 提交统一用AJAX处理-->
</head>
<body>
<div style="margin-left: 2%; margin-right: 2%">
    <ul class="nav nav-tabs">
        <li role="presentation">欢迎:<span id="teacherId"></span></li>
    </ul>
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <h1 class="text-center">课程成绩录入</h1>
            <h2>当前课程：<span id="courseName"></span></h2>
        </div>
    </div>
    <hr>
</div>
<div class="container">
    <div class="row">
        <div class="text-left col-md-6 col-md-offset-3">
        <form role="form" method="post" action="/gradeManage/gradeInputDetails/" onsubmit="return check()">
        {% csrf_token %}
        <label for="sectionId">开课号</label>
        <input type="text" class="form-row" name="sectionId" id="sectionId" value="{{ sectionId }}" disabled>
            <table class="table table-responsive">
                <thead>
                <tr>
                    <th>学号</th>
                    <th>成绩</th>
                </tr>
                </thead>
                <tbody>
                {{% for i in gradeList %}}
                <tr>
                    <td>{i.id}</td>
                    <td><input type="text" class="form-control" id="{{ i.id }}" name="{{ i.id }}"></td>
                </tr>
                {{% endfor %}}
                </tbody>
            </table>
            <input type="submit" class="btn btn-default" id="submit" value="提交">
        </form>
        </div>
        <hr>
        <div class="row">
            <div class="text-center col-md-6 col-md-offset-3">
                <p>Copyright &copy; 2017 &middot; All Rights Reserved &middot;</p>
            </div>
        </div>
        <hr>
    </div>
</div>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js"></script>
<script>
    function check() {
        var status = true;
        $(".form-control").each(
            function () {
                if($(this).val() == '' || $(this).val() < 0 || $(this).val() > 100)
                return status = false;
            }
        );
        if(status == false)
            alert("输入数据有误！\n如空数据、成绩范围有误...")
        return status;
    }
</script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../js/bootstrap.js"></script>
</body>
</html>
